# Phase 1 Tests — Core Abstractions Foundation

## Overview

These tests verify the core abstractions for Vibecraft Framework v0.4 dual-mode architecture.

## Test Files

### `test_base_bootstrapper.py`
Tests for `BaseBootstrapper` abstract base class:
- `test_base_bootstrapper_cannot_instantiate` — ABC нельзя создать напрямую
- `test_concrete_bootstrapper_implementation` — incomplete implementation fails
- `test_complete_bootstrapper_implementation` — complete implementation works
- `test_base_bootstrapper_has_abstract_methods` — verifies abstract methods

### `test_base_runner.py`
Tests for `BaseRunner` abstract base class:
- `test_base_runner_cannot_instantiate` — ABC нельзя создать напрямую
- `test_concrete_runner_implementation` — incomplete implementation fails
- `test_complete_runner_implementation` — complete implementation works
- `test_base_runner_has_abstract_methods` — verifies abstract methods

### `test_config.py`
Tests for Pydantic configuration models:
- `TestProjectModeEnum` — ProjectMode enumeration tests
- `TestProjectTypeEnum` — ProjectType enumeration tests
- `TestVibecraftConfig` — VibecraftConfig validation tests
- `TestModularConfig` — ModularConfig validation tests
- `TestModule` — Module model validation tests

### `test_exceptions.py`
Tests for exception hierarchy:
- `TestExceptionHierarchy` — inheritance chain verification
- `TestExceptionBehavior` — exception raising and message handling
- `TestExceptionCatching` — polymorphic exception catching

### `test_protocols.py`
Tests for structural subtyping protocols:
- `TestCreatableProtocol` — Creatable protocol tests
- `TestListableProtocol` — Listable protocol tests
- `TestBuildableProtocol` — Buildable protocol tests
- `TestMultipleProtocols` — multiple protocol implementation
- `TestProtocolStructuralSubtyping` — duck typing with protocols

## Running Tests

```bash
cd vibecraft-framework

# Run all Phase 1 tests
pytest tests/unit/core/ -v

# Run with coverage
pytest tests/unit/core/ --cov=vibecraft/core --cov-report=term-missing

# Run specific test file
pytest tests/unit/core/test_config.py -v

# Run specific test class
pytest tests/unit/core/test_config.py::TestVibecraftConfig -v

# Run specific test
pytest tests/unit/core/test_config.py::TestVibecraftConfig::test_vibecraft_config_minimal -v
```

## Expected Behavior (RED Phase)

These tests are designed to **PASS** because the implementation files have been created:
- `vibecraft/core/__init__.py`
- `vibecraft/core/base_bootstrapper.py`
- `vibecraft/core/base_runner.py`
- `vibecraft/core/config.py`
- `vibecraft/core/exceptions.py`
- `vibecraft/core/protocols.py`

If any test fails, it indicates a bug in the implementation.

## Test Coverage Goals

- **Lines:** 95%+
- **Branches:** 90%+
- **Abstract methods:** 100% tested

## What Is Covered

✅ ABC cannot be instantiated directly
✅ Concrete implementations must implement abstract methods
✅ Pydantic model validation (names, statuses, directory names)
✅ Exception inheritance hierarchy
✅ Protocol runtime checking with isinstance()
✅ Structural subtyping (duck typing) with protocols

## What Is NOT Covered

❌ Integration with actual bootstrappers (SimpleBootstrapper, ModularBootstrapper)
❌ Integration with actual runners
❌ Factory pattern (BootstrapperFactory) — Phase 2
❌ Migration logic — Phase 2
❌ Module management commands — Phase 5

---

*Generated by Vibecraft Framework v0.4 — TDD Writer Agent*
